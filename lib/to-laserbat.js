"use strict";

var LaserBat = require("laserbat-ast");

function convert(node) {
  if (node == null) {
    return null;
  }
  return Convert[node.type](node);
}

exports["default"] = convert;
function convertAssignmentExpression(node) {
  return new LaserBat.AssignmentExpression(node.operator, convert(node.left), convert(node.right));
}

function convertArrayExpression(node) {
  return new LaserBat.ArrayExpression(node.elements.map(convert));
}

function convertBinaryExpression(node) {
  return new LaserBat.BinaryExpression(node.operator, convert(node.left), convert(node.right));
}

function convertBlock(node) {
  return new LaserBat.Block(node.body.map(convert));
}

function convertBlockStatement(node) {
  return new LaserBat.BlockStatement(convertBlock(node));
}

function convertBreakStatement(node) {
  return new LaserBat.BreakStatement(convertIdentifier(node.label));
}

function convertCallExpression(node) {
  return new LaserBat.CallExpression(convert(node.callee), node.arguments.map(convert));
}

function convertCatchClause(node) {
  return new LaserBat.CatchClause(convertIdentifier(node.param), convertBlock(node.body));
}

function convertConditionalExpression(node) {
  return new LaserBat.ConditionalExpression(convert(node.test), convert(node.consequent), convert(node.alternate));
}

function convertContinueStatement(node) {
  return new LaserBat.ContinueStatement(convertIdentifier(node.label));
}

function convertDebuggerStatement() {
  return new LaserBat.DebuggerStatement();
}

function convertDoWhileStatement(node) {
  return new LaserBat.DoWhileStatement(convert(node.body), convert(node.test));
}

function convertEmptyStatement() {
  return new LaserBat.EmptyStatement();
}

function convertExpressionStatement(node) {
  return new LaserBat.ExpressionStatement(convert(node.expression));
}

function convertForStatement(node) {
  var init = null;
  if (node.init != null) {
    if (node.init.type === "VariableDeclaration") {
      init = convertVariableDeclaration(node.init);
    } else {
      init = convert(node.init);
    }
  }
  return new LaserBat.ForStatement(init, convert(node.test), convert(node.update), convert(node.body));
}

function convertForInStatement(node) {
  var left = null;
  if (node.left != null) {
    if (node.left.type === "VariableDeclaration") {
      left = convertVariableDeclaration(node.left);
    } else {
      left = convert(node.left);
    }
  }
  return new LaserBat.ForInStatement(left, convert(node.right), convert(node.body));
}

function convertFunctionDeclaration(node) {
  return new LaserBat.FunctionDeclaration(convertIdentifier(node.id), node.params.map(convertIdentifier), convertStatementsToFunctionBody(node.body.body));
}

function convertFunctionExpression(node) {
  return new LaserBat.FunctionExpression(convertIdentifier(node.id), node.params.map(convertIdentifier), convertStatementsToFunctionBody(node.body.body));
}

function convertIdentifier(node) {
  if (node === null) return null;
  return new LaserBat.Identifier(node.name);
}

function convertIdentifierExpression(node) {
  return new LaserBat.IdentifierExpression(convertIdentifier(node));
}

function convertIfStatement(node) {
  return new LaserBat.IfStatement(convert(node.test), convert(node.consequent), convert(node.alternate));
}

function convertLabeledStatement(node) {
  return new LaserBat.LabeledStatement(convertIdentifier(node.label), convert(node.body));
}

function convertLiteral(node) {
  switch (typeof node.value) {
    case "number":
      return new LaserBat.LiteralNumericExpression(node.value);
    case "string":
      return new LaserBat.LiteralStringExpression(node.value);
    case "boolean":
      return new LaserBat.LiteralBooleanExpression(node.value);
    default:
      if (node.value === null) return new LaserBat.LiteralNullExpression();else return new LaserBat.LiteralRegExpExpression(node.value.toString());
  }
}

function convertMemberExpression(node) {
  if (node.computed) {
    return new LaserBat.ComputedMemberExpression(convert(node.object), convert(node.property));
  } else {
    return new LaserBat.StaticMemberExpression(convert(node.object), convertIdentifier(node.property));
  }
}

function convertNewExpression(node) {
  return new LaserBat.NewExpression(convert(node.callee), node.arguments.map(convert));
}

function convertObjectExpression(node) {
  return new LaserBat.ObjectExpression(node.properties.map(convert));
}

function convertDirective(node) {
  node = node.expression;
  var value = node.value;
  return value === "use strict" ? new LaserBat.UseStrictDirective() : new LaserBat.UnknownDirective(value);
}

function convertStatementsToFunctionBody(stmts) {
  for (var i = 0; i < stmts.length; i++) {
    if (!(stmts[i].type === "ExpressionStatement" && stmts[i].expression.type === "Literal" && typeof stmts[i].expression.value === "string")) {
      break;
    }
  }
  return new LaserBat.FunctionBody(stmts.slice(0, i).map(convertDirective), stmts.slice(i).map(convert));
}

function convertProgram(node) {
  return new LaserBat.Script(convertStatementsToFunctionBody(node.body));
}

function convertPropertyName(literal) {
  if (literal.type === "Identifier") {
    return new LaserBat.PropertyName("identifier", literal.name);
  } else {
    return new LaserBat.PropertyName(typeof literal.value, literal.value.toString());
  }
}

function convertProperty(node) {
  switch (node.kind) {
    case "init":
      return new LaserBat.DataProperty(convertPropertyName(node.key), convert(node.value));
    case "get":
      return new LaserBat.Getter(convertPropertyName(node.key), convertStatementsToFunctionBody(node.value.body.body));
    case "set":
      return new LaserBat.Setter(convertPropertyName(node.key), convertIdentifier(node.value.params[0]), convertStatementsToFunctionBody(node.value.body.body));
  }
}

function convertReturnStatement(node) {
  return new LaserBat.ReturnStatement(convert(node.argument));
}

function convertSequenceExpression(node) {
  var expr = convert(node.expressions[0]);
  for (var i = 1; i < node.expressions.length; i++) {
    expr = new LaserBat.BinaryExpression(",", expr, convert(node.expressions[i]));
  }
  return expr;
}

function convertSwitchCase(node) {
  if (node.test) {
    return new LaserBat.SwitchCase(convert(node.test), node.consequent.map(convert));
  } else {
    return new LaserBat.SwitchDefault(node.consequent.map(convert));
  }
}

function convertSwitchStatement(node) {
  if (!node.cases.every(function (c) {
    return c.test != null;
  })) {
    var scs = node.cases.map(convertSwitchCase);
    for (var i = 0; i < scs.length; i++) {
      if (scs[i].type === "SwitchDefault") {
        break;
      }
    }
    return new LaserBat.SwitchStatementWithDefault(convert(node.discriminant), scs.slice(0, i), scs[i], scs.slice(i + 1));
  } else {
    return new LaserBat.SwitchStatement(convert(node.discriminant), node.cases.map(convertSwitchCase));
  }
}

function convertThisExpression() {
  return new LaserBat.ThisExpression();
}

function convertThrowStatement(node) {
  return new LaserBat.ThrowStatement(convert(node.argument));
}

function convertTryStatement(node) {
  if (node.finalizer != null) {
    return new LaserBat.TryFinallyStatement(convertBlock(node.block), convert(node.handlers[0]), convertBlock(node.finalizer));
  } else {
    return new LaserBat.TryCatchStatement(convertBlock(node.block), convert(node.handlers[0]));
  }
}

function convertUpdateExpression(node) {
  if (node.prefix) {
    return new LaserBat.PrefixExpression(node.operator, convert(node.argument));
  } else {
    return new LaserBat.PostfixExpression(convert(node.argument), node.operator);
  }
}

function convertUnaryExpression(node) {
  return new LaserBat.PrefixExpression(node.operator, convert(node.argument));
}

function convertVariableDeclaration(node) {
  return new LaserBat.VariableDeclaration(node.kind, node.declarations.map(convertVariableDeclarator));
}

function convertVariableDeclarationStatement(node) {
  return new LaserBat.VariableDeclarationStatement(convertVariableDeclaration(node));
}

function convertVariableDeclarator(node) {
  return new LaserBat.VariableDeclarator(convertIdentifier(node.id), convert(node.init));
}

function convertWhileStatement(node) {
  return new LaserBat.WhileStatement(convert(node.test), convert(node.body));
}

function convertWithStatement(node) {
  return new LaserBat.WithStatement(convert(node.object), convert(node.body));
}

var Convert = {
  AssignmentExpression: convertAssignmentExpression,
  ArrayExpression: convertArrayExpression,
  BlockStatement: convertBlockStatement,
  BinaryExpression: convertBinaryExpression,
  BreakStatement: convertBreakStatement,
  CallExpression: convertCallExpression,
  CatchClause: convertCatchClause,
  ConditionalExpression: convertConditionalExpression,
  ContinueStatement: convertContinueStatement,
  DoWhileStatement: convertDoWhileStatement,
  DebuggerStatement: convertDebuggerStatement,
  EmptyStatement: convertEmptyStatement,
  ExpressionStatement: convertExpressionStatement,
  ForStatement: convertForStatement,
  ForInStatement: convertForInStatement,
  FunctionDeclaration: convertFunctionDeclaration,
  FunctionExpression: convertFunctionExpression,
  Identifier: convertIdentifierExpression,
  IfStatement: convertIfStatement,
  Literal: convertLiteral,
  LabeledStatement: convertLabeledStatement,
  LogicalExpression: convertBinaryExpression,
  MemberExpression: convertMemberExpression,
  NewExpression: convertNewExpression,
  ObjectExpression: convertObjectExpression,
  Program: convertProgram,
  Property: convertProperty,
  ReturnStatement: convertReturnStatement,
  SequenceExpression: convertSequenceExpression,
  SwitchStatement: convertSwitchStatement,
  SwitchCase: convertSwitchCase,
  ThisExpression: convertThisExpression,
  ThrowStatement: convertThrowStatement,
  TryStatement: convertTryStatement,
  UnaryExpression: convertUnaryExpression,
  UpdateExpression: convertUpdateExpression,
  VariableDeclaration: convertVariableDeclarationStatement,
  VariableDeclarator: convertVariableDeclarator,
  WhileStatement: convertWhileStatement,
  WithStatement: convertWithStatement
};
//# sourceMappingURL=data:application/json;base64,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RSx5QkFBeUI7QUFDN0MsZ0JBQWMsRUFBRSxxQkFBcUI7QUFDckMsZUFBYSxFQUFFLG9CQUFvQjtDQUNwQyxDQUFDIiwiZmlsZSI6InNyYy90by1sYXNlcmJhdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IDIwMTQgU2hhcGUgU2VjdXJpdHksIEluYy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgKiBhcyBMYXNlckJhdCBmcm9tIFwibGFzZXJiYXQtYXN0XCI7XG5cbi8vIGNvbnZlcnQgU3BpZGVyTW9ua2V5IEFTVCBmb3JtYXQgdG8gTGFzZXJCYXQgQVNUIGZvcm1hdFxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb252ZXJ0KG5vZGUpIHtcbiAgaWYgKG5vZGUgPT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBDb252ZXJ0W25vZGUudHlwZV0obm9kZSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRBc3NpZ25tZW50RXhwcmVzc2lvbihub2RlKSB7XG4gIHJldHVybiBuZXcgTGFzZXJCYXQuQXNzaWdubWVudEV4cHJlc3Npb24obm9kZS5vcGVyYXRvciwgY29udmVydChub2RlLmxlZnQpLCBjb252ZXJ0KG5vZGUucmlnaHQpKTtcbn1cblxuZnVuY3Rpb24gY29udmVydEFycmF5RXhwcmVzc2lvbihub2RlKSB7XG4gIHJldHVybiBuZXcgTGFzZXJCYXQuQXJyYXlFeHByZXNzaW9uKG5vZGUuZWxlbWVudHMubWFwKGNvbnZlcnQpKTtcbn1cblxuZnVuY3Rpb24gY29udmVydEJpbmFyeUV4cHJlc3Npb24obm9kZSkge1xuICByZXR1cm4gbmV3IExhc2VyQmF0LkJpbmFyeUV4cHJlc3Npb24obm9kZS5vcGVyYXRvciwgY29udmVydChub2RlLmxlZnQpLCBjb252ZXJ0KG5vZGUucmlnaHQpKTtcbn1cblxuZnVuY3Rpb24gY29udmVydEJsb2NrKG5vZGUpIHtcbiAgcmV0dXJuIG5ldyBMYXNlckJhdC5CbG9jayhub2RlLmJvZHkubWFwKGNvbnZlcnQpKTtcbn1cblxuZnVuY3Rpb24gY29udmVydEJsb2NrU3RhdGVtZW50KG5vZGUpIHtcbiAgcmV0dXJuIG5ldyBMYXNlckJhdC5CbG9ja1N0YXRlbWVudChjb252ZXJ0QmxvY2sobm9kZSkpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0QnJlYWtTdGF0ZW1lbnQobm9kZSkge1xuICByZXR1cm4gbmV3IExhc2VyQmF0LkJyZWFrU3RhdGVtZW50KGNvbnZlcnRJZGVudGlmaWVyKG5vZGUubGFiZWwpKTtcbn1cblxuZnVuY3Rpb24gY29udmVydENhbGxFeHByZXNzaW9uKG5vZGUpIHtcbiAgcmV0dXJuIG5ldyBMYXNlckJhdC5DYWxsRXhwcmVzc2lvbihjb252ZXJ0KG5vZGUuY2FsbGVlKSwgbm9kZS5hcmd1bWVudHMubWFwKGNvbnZlcnQpKTtcbn1cblxuZnVuY3Rpb24gY29udmVydENhdGNoQ2xhdXNlKG5vZGUpIHtcbiAgcmV0dXJuIG5ldyBMYXNlckJhdC5DYXRjaENsYXVzZShjb252ZXJ0SWRlbnRpZmllcihub2RlLnBhcmFtKSwgY29udmVydEJsb2NrKG5vZGUuYm9keSkpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0Q29uZGl0aW9uYWxFeHByZXNzaW9uKG5vZGUpIHtcbiAgcmV0dXJuIG5ldyBMYXNlckJhdC5Db25kaXRpb25hbEV4cHJlc3Npb24oY29udmVydChub2RlLnRlc3QpLCBjb252ZXJ0KG5vZGUuY29uc2VxdWVudCksIGNvbnZlcnQobm9kZS5hbHRlcm5hdGUpKTtcbn1cblxuZnVuY3Rpb24gY29udmVydENvbnRpbnVlU3RhdGVtZW50KG5vZGUpIHtcbiAgcmV0dXJuIG5ldyBMYXNlckJhdC5Db250aW51ZVN0YXRlbWVudChjb252ZXJ0SWRlbnRpZmllcihub2RlLmxhYmVsKSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnREZWJ1Z2dlclN0YXRlbWVudCgpIHtcbiAgcmV0dXJuIG5ldyBMYXNlckJhdC5EZWJ1Z2dlclN0YXRlbWVudCgpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0RG9XaGlsZVN0YXRlbWVudChub2RlKSB7XG4gIHJldHVybiBuZXcgTGFzZXJCYXQuRG9XaGlsZVN0YXRlbWVudChjb252ZXJ0KG5vZGUuYm9keSksIGNvbnZlcnQobm9kZS50ZXN0KSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRFbXB0eVN0YXRlbWVudCgpIHtcbiAgcmV0dXJuIG5ldyBMYXNlckJhdC5FbXB0eVN0YXRlbWVudCgpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0RXhwcmVzc2lvblN0YXRlbWVudChub2RlKSB7XG4gIHJldHVybiBuZXcgTGFzZXJCYXQuRXhwcmVzc2lvblN0YXRlbWVudChjb252ZXJ0KG5vZGUuZXhwcmVzc2lvbikpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0Rm9yU3RhdGVtZW50KG5vZGUpIHtcbiAgdmFyIGluaXQgPSBudWxsO1xuICBpZiAobm9kZS5pbml0ICE9IG51bGwpIHtcbiAgICBpZiAobm9kZS5pbml0LnR5cGUgPT09ICdWYXJpYWJsZURlY2xhcmF0aW9uJykge1xuICAgICAgaW5pdCA9IGNvbnZlcnRWYXJpYWJsZURlY2xhcmF0aW9uKG5vZGUuaW5pdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluaXQgPSBjb252ZXJ0KG5vZGUuaW5pdCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBuZXcgTGFzZXJCYXQuRm9yU3RhdGVtZW50KGluaXQsIGNvbnZlcnQobm9kZS50ZXN0KSwgY29udmVydChub2RlLnVwZGF0ZSksIGNvbnZlcnQobm9kZS5ib2R5KSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRGb3JJblN0YXRlbWVudChub2RlKSB7XG4gIHZhciBsZWZ0ID0gbnVsbDtcbiAgaWYgKG5vZGUubGVmdCAhPSBudWxsKSB7XG4gICAgaWYgKG5vZGUubGVmdC50eXBlID09PSAnVmFyaWFibGVEZWNsYXJhdGlvbicpIHtcbiAgICAgIGxlZnQgPSBjb252ZXJ0VmFyaWFibGVEZWNsYXJhdGlvbihub2RlLmxlZnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZWZ0ID0gY29udmVydChub2RlLmxlZnQpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbmV3IExhc2VyQmF0LkZvckluU3RhdGVtZW50KGxlZnQsIGNvbnZlcnQobm9kZS5yaWdodCksIGNvbnZlcnQobm9kZS5ib2R5KSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRGdW5jdGlvbkRlY2xhcmF0aW9uKG5vZGUpIHtcbiAgcmV0dXJuIG5ldyBMYXNlckJhdC5GdW5jdGlvbkRlY2xhcmF0aW9uKGNvbnZlcnRJZGVudGlmaWVyKG5vZGUuaWQpLCBub2RlLnBhcmFtcy5tYXAoY29udmVydElkZW50aWZpZXIpLCBjb252ZXJ0U3RhdGVtZW50c1RvRnVuY3Rpb25Cb2R5KG5vZGUuYm9keS5ib2R5KSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRGdW5jdGlvbkV4cHJlc3Npb24obm9kZSkge1xuICByZXR1cm4gbmV3IExhc2VyQmF0LkZ1bmN0aW9uRXhwcmVzc2lvbihjb252ZXJ0SWRlbnRpZmllcihub2RlLmlkKSwgbm9kZS5wYXJhbXMubWFwKGNvbnZlcnRJZGVudGlmaWVyKSwgY29udmVydFN0YXRlbWVudHNUb0Z1bmN0aW9uQm9keShub2RlLmJvZHkuYm9keSkpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0SWRlbnRpZmllcihub2RlKSB7XG4gIGlmIChub2RlID09PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIG5ldyBMYXNlckJhdC5JZGVudGlmaWVyKG5vZGUubmFtZSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRJZGVudGlmaWVyRXhwcmVzc2lvbihub2RlKSB7XG4gIHJldHVybiBuZXcgTGFzZXJCYXQuSWRlbnRpZmllckV4cHJlc3Npb24oY29udmVydElkZW50aWZpZXIobm9kZSkpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0SWZTdGF0ZW1lbnQobm9kZSkge1xuICByZXR1cm4gbmV3IExhc2VyQmF0LklmU3RhdGVtZW50KGNvbnZlcnQobm9kZS50ZXN0KSwgY29udmVydChub2RlLmNvbnNlcXVlbnQpLCBjb252ZXJ0KG5vZGUuYWx0ZXJuYXRlKSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRMYWJlbGVkU3RhdGVtZW50KG5vZGUpIHtcbiAgcmV0dXJuIG5ldyBMYXNlckJhdC5MYWJlbGVkU3RhdGVtZW50KGNvbnZlcnRJZGVudGlmaWVyKG5vZGUubGFiZWwpLCBjb252ZXJ0KG5vZGUuYm9keSkpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0TGl0ZXJhbChub2RlKSB7XG4gIHN3aXRjaCAodHlwZW9mIG5vZGUudmFsdWUpIHtcbiAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICByZXR1cm4gbmV3IExhc2VyQmF0LkxpdGVyYWxOdW1lcmljRXhwcmVzc2lvbihub2RlLnZhbHVlKTtcbiAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICByZXR1cm4gbmV3IExhc2VyQmF0LkxpdGVyYWxTdHJpbmdFeHByZXNzaW9uKG5vZGUudmFsdWUpO1xuICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICByZXR1cm4gbmV3IExhc2VyQmF0LkxpdGVyYWxCb29sZWFuRXhwcmVzc2lvbihub2RlLnZhbHVlKTtcbiAgICBkZWZhdWx0OlxuICAgICAgaWYgKG5vZGUudmFsdWUgPT09IG51bGwpXG4gICAgICAgIHJldHVybiBuZXcgTGFzZXJCYXQuTGl0ZXJhbE51bGxFeHByZXNzaW9uKCk7XG4gICAgICBlbHNlXG4gICAgICAgIHJldHVybiBuZXcgTGFzZXJCYXQuTGl0ZXJhbFJlZ0V4cEV4cHJlc3Npb24obm9kZS52YWx1ZS50b1N0cmluZygpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb252ZXJ0TWVtYmVyRXhwcmVzc2lvbihub2RlKSB7XG4gIGlmIChub2RlLmNvbXB1dGVkKSB7XG4gICAgcmV0dXJuIG5ldyBMYXNlckJhdC5Db21wdXRlZE1lbWJlckV4cHJlc3Npb24oY29udmVydChub2RlLm9iamVjdCksIGNvbnZlcnQobm9kZS5wcm9wZXJ0eSkpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXcgTGFzZXJCYXQuU3RhdGljTWVtYmVyRXhwcmVzc2lvbihjb252ZXJ0KG5vZGUub2JqZWN0KSwgY29udmVydElkZW50aWZpZXIobm9kZS5wcm9wZXJ0eSkpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnROZXdFeHByZXNzaW9uKG5vZGUpIHtcbiAgcmV0dXJuIG5ldyBMYXNlckJhdC5OZXdFeHByZXNzaW9uKGNvbnZlcnQobm9kZS5jYWxsZWUpLCBub2RlLmFyZ3VtZW50cy5tYXAoY29udmVydCkpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0T2JqZWN0RXhwcmVzc2lvbihub2RlKSB7XG4gIHJldHVybiBuZXcgTGFzZXJCYXQuT2JqZWN0RXhwcmVzc2lvbihub2RlLnByb3BlcnRpZXMubWFwKGNvbnZlcnQpKTtcbn1cblxuZnVuY3Rpb24gY29udmVydERpcmVjdGl2ZShub2RlKSB7XG4gIG5vZGUgPSBub2RlLmV4cHJlc3Npb247XG4gIHZhciB2YWx1ZSA9IG5vZGUudmFsdWU7XG4gIHJldHVybiB2YWx1ZSA9PT0gXCJ1c2Ugc3RyaWN0XCIgPyBuZXcgTGFzZXJCYXQuVXNlU3RyaWN0RGlyZWN0aXZlKCkgOiBuZXcgTGFzZXJCYXQuVW5rbm93bkRpcmVjdGl2ZSh2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRTdGF0ZW1lbnRzVG9GdW5jdGlvbkJvZHkoc3RtdHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdG10cy5sZW5ndGg7IGkrKykge1xuICAgIGlmICghKHN0bXRzW2ldLnR5cGUgPT09IFwiRXhwcmVzc2lvblN0YXRlbWVudFwiICYmIHN0bXRzW2ldLmV4cHJlc3Npb24udHlwZSA9PT0gXCJMaXRlcmFsXCIgJiYgdHlwZW9mIHN0bXRzW2ldLmV4cHJlc3Npb24udmFsdWUgPT09IFwic3RyaW5nXCIpKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5ldyBMYXNlckJhdC5GdW5jdGlvbkJvZHkoc3RtdHMuc2xpY2UoMCwgaSkubWFwKGNvbnZlcnREaXJlY3RpdmUpLCBzdG10cy5zbGljZShpKS5tYXAoY29udmVydCkpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0UHJvZ3JhbShub2RlKSB7XG4gIHJldHVybiBuZXcgTGFzZXJCYXQuU2NyaXB0KGNvbnZlcnRTdGF0ZW1lbnRzVG9GdW5jdGlvbkJvZHkobm9kZS5ib2R5KSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRQcm9wZXJ0eU5hbWUobGl0ZXJhbCkge1xuICBpZiAobGl0ZXJhbC50eXBlID09PSBcIklkZW50aWZpZXJcIikge1xuICAgIHJldHVybiBuZXcgTGFzZXJCYXQuUHJvcGVydHlOYW1lKFwiaWRlbnRpZmllclwiLCBsaXRlcmFsLm5hbWUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXcgTGFzZXJCYXQuUHJvcGVydHlOYW1lKHR5cGVvZiBsaXRlcmFsLnZhbHVlLCBsaXRlcmFsLnZhbHVlLnRvU3RyaW5nKCkpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRQcm9wZXJ0eShub2RlKSB7XG4gIHN3aXRjaCAobm9kZS5raW5kKSB7XG4gICAgY2FzZSBcImluaXRcIjpcbiAgICAgIHJldHVybiBuZXcgTGFzZXJCYXQuRGF0YVByb3BlcnR5KGNvbnZlcnRQcm9wZXJ0eU5hbWUobm9kZS5rZXkpLCBjb252ZXJ0KG5vZGUudmFsdWUpKTtcbiAgICBjYXNlIFwiZ2V0XCI6XG4gICAgICByZXR1cm4gbmV3IExhc2VyQmF0LkdldHRlcihjb252ZXJ0UHJvcGVydHlOYW1lKG5vZGUua2V5KSwgY29udmVydFN0YXRlbWVudHNUb0Z1bmN0aW9uQm9keShub2RlLnZhbHVlLmJvZHkuYm9keSkpO1xuICAgIGNhc2UgXCJzZXRcIjpcbiAgICAgIHJldHVybiBuZXcgTGFzZXJCYXQuU2V0dGVyKGNvbnZlcnRQcm9wZXJ0eU5hbWUobm9kZS5rZXkpLCBjb252ZXJ0SWRlbnRpZmllcihub2RlLnZhbHVlLnBhcmFtc1swXSksIGNvbnZlcnRTdGF0ZW1lbnRzVG9GdW5jdGlvbkJvZHkobm9kZS52YWx1ZS5ib2R5LmJvZHkpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb252ZXJ0UmV0dXJuU3RhdGVtZW50KG5vZGUpIHtcbiAgcmV0dXJuIG5ldyBMYXNlckJhdC5SZXR1cm5TdGF0ZW1lbnQoY29udmVydChub2RlLmFyZ3VtZW50KSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRTZXF1ZW5jZUV4cHJlc3Npb24obm9kZSkge1xuICB2YXIgZXhwciA9IGNvbnZlcnQobm9kZS5leHByZXNzaW9uc1swXSk7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgbm9kZS5leHByZXNzaW9ucy5sZW5ndGg7IGkrKykge1xuICAgIGV4cHIgPSBuZXcgTGFzZXJCYXQuQmluYXJ5RXhwcmVzc2lvbihcIixcIiwgZXhwciwgY29udmVydChub2RlLmV4cHJlc3Npb25zW2ldKSk7XG4gIH1cbiAgcmV0dXJuIGV4cHI7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRTd2l0Y2hDYXNlKG5vZGUpIHtcbiAgaWYgKG5vZGUudGVzdCkge1xuICAgIHJldHVybiBuZXcgTGFzZXJCYXQuU3dpdGNoQ2FzZShjb252ZXJ0KG5vZGUudGVzdCksIG5vZGUuY29uc2VxdWVudC5tYXAoY29udmVydCkpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXcgTGFzZXJCYXQuU3dpdGNoRGVmYXVsdChub2RlLmNvbnNlcXVlbnQubWFwKGNvbnZlcnQpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb252ZXJ0U3dpdGNoU3RhdGVtZW50KG5vZGUpIHtcbiAgaWYgKCFub2RlLmNhc2VzLmV2ZXJ5KChjKSA9PiBjLnRlc3QgIT0gbnVsbCApKSB7XG4gICAgdmFyIHNjcyA9IG5vZGUuY2FzZXMubWFwKGNvbnZlcnRTd2l0Y2hDYXNlKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNjcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHNjc1tpXS50eXBlID09PSBcIlN3aXRjaERlZmF1bHRcIikge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBMYXNlckJhdC5Td2l0Y2hTdGF0ZW1lbnRXaXRoRGVmYXVsdChjb252ZXJ0KG5vZGUuZGlzY3JpbWluYW50KSwgc2NzLnNsaWNlKDAsIGkpLCBzY3NbaV0sIHNjcy5zbGljZShpICsgMSkpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXcgTGFzZXJCYXQuU3dpdGNoU3RhdGVtZW50KGNvbnZlcnQobm9kZS5kaXNjcmltaW5hbnQpLCBub2RlLmNhc2VzLm1hcChjb252ZXJ0U3dpdGNoQ2FzZSkpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRUaGlzRXhwcmVzc2lvbigpIHtcbiAgcmV0dXJuIG5ldyBMYXNlckJhdC5UaGlzRXhwcmVzc2lvbigpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0VGhyb3dTdGF0ZW1lbnQobm9kZSkge1xuICByZXR1cm4gbmV3IExhc2VyQmF0LlRocm93U3RhdGVtZW50KGNvbnZlcnQobm9kZS5hcmd1bWVudCkpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0VHJ5U3RhdGVtZW50KG5vZGUpIHtcbiAgaWYgKG5vZGUuZmluYWxpemVyICE9IG51bGwpIHtcbiAgICByZXR1cm4gbmV3IExhc2VyQmF0LlRyeUZpbmFsbHlTdGF0ZW1lbnQoY29udmVydEJsb2NrKG5vZGUuYmxvY2spLCBjb252ZXJ0KG5vZGUuaGFuZGxlcnNbMF0pLCBjb252ZXJ0QmxvY2sobm9kZS5maW5hbGl6ZXIpKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbmV3IExhc2VyQmF0LlRyeUNhdGNoU3RhdGVtZW50KGNvbnZlcnRCbG9jayhub2RlLmJsb2NrKSwgY29udmVydChub2RlLmhhbmRsZXJzWzBdKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY29udmVydFVwZGF0ZUV4cHJlc3Npb24obm9kZSkge1xuICBpZiAobm9kZS5wcmVmaXgpIHtcbiAgICByZXR1cm4gbmV3IExhc2VyQmF0LlByZWZpeEV4cHJlc3Npb24obm9kZS5vcGVyYXRvciwgY29udmVydChub2RlLmFyZ3VtZW50KSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBMYXNlckJhdC5Qb3N0Zml4RXhwcmVzc2lvbihjb252ZXJ0KG5vZGUuYXJndW1lbnQpLCBub2RlLm9wZXJhdG9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb252ZXJ0VW5hcnlFeHByZXNzaW9uKG5vZGUpIHtcbiAgcmV0dXJuIG5ldyBMYXNlckJhdC5QcmVmaXhFeHByZXNzaW9uKG5vZGUub3BlcmF0b3IsIGNvbnZlcnQobm9kZS5hcmd1bWVudCkpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0VmFyaWFibGVEZWNsYXJhdGlvbihub2RlKSB7XG4gIHJldHVybiBuZXcgTGFzZXJCYXQuVmFyaWFibGVEZWNsYXJhdGlvbihub2RlLmtpbmQsIG5vZGUuZGVjbGFyYXRpb25zLm1hcChjb252ZXJ0VmFyaWFibGVEZWNsYXJhdG9yKSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRWYXJpYWJsZURlY2xhcmF0aW9uU3RhdGVtZW50KG5vZGUpIHtcbiAgcmV0dXJuIG5ldyBMYXNlckJhdC5WYXJpYWJsZURlY2xhcmF0aW9uU3RhdGVtZW50KGNvbnZlcnRWYXJpYWJsZURlY2xhcmF0aW9uKG5vZGUpKTtcbn1cblxuZnVuY3Rpb24gY29udmVydFZhcmlhYmxlRGVjbGFyYXRvcihub2RlKSB7XG4gIHJldHVybiBuZXcgTGFzZXJCYXQuVmFyaWFibGVEZWNsYXJhdG9yKGNvbnZlcnRJZGVudGlmaWVyKG5vZGUuaWQpLCBjb252ZXJ0KG5vZGUuaW5pdCkpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0V2hpbGVTdGF0ZW1lbnQobm9kZSkge1xuICByZXR1cm4gbmV3IExhc2VyQmF0LldoaWxlU3RhdGVtZW50KGNvbnZlcnQobm9kZS50ZXN0KSwgY29udmVydChub2RlLmJvZHkpKTtcbn1cblxuZnVuY3Rpb24gY29udmVydFdpdGhTdGF0ZW1lbnQobm9kZSkge1xuICByZXR1cm4gbmV3IExhc2VyQmF0LldpdGhTdGF0ZW1lbnQoY29udmVydChub2RlLm9iamVjdCksIGNvbnZlcnQobm9kZS5ib2R5KSk7XG59XG5cbmNvbnN0IENvbnZlcnQgPSB7XG4gIEFzc2lnbm1lbnRFeHByZXNzaW9uOiBjb252ZXJ0QXNzaWdubWVudEV4cHJlc3Npb24sXG4gIEFycmF5RXhwcmVzc2lvbjogY29udmVydEFycmF5RXhwcmVzc2lvbixcbiAgQmxvY2tTdGF0ZW1lbnQ6IGNvbnZlcnRCbG9ja1N0YXRlbWVudCxcbiAgQmluYXJ5RXhwcmVzc2lvbjogY29udmVydEJpbmFyeUV4cHJlc3Npb24sXG4gIEJyZWFrU3RhdGVtZW50OiBjb252ZXJ0QnJlYWtTdGF0ZW1lbnQsXG4gIENhbGxFeHByZXNzaW9uOiBjb252ZXJ0Q2FsbEV4cHJlc3Npb24sXG4gIENhdGNoQ2xhdXNlOiBjb252ZXJ0Q2F0Y2hDbGF1c2UsXG4gIENvbmRpdGlvbmFsRXhwcmVzc2lvbjogY29udmVydENvbmRpdGlvbmFsRXhwcmVzc2lvbixcbiAgQ29udGludWVTdGF0ZW1lbnQ6IGNvbnZlcnRDb250aW51ZVN0YXRlbWVudCxcbiAgRG9XaGlsZVN0YXRlbWVudDogY29udmVydERvV2hpbGVTdGF0ZW1lbnQsXG4gIERlYnVnZ2VyU3RhdGVtZW50OiBjb252ZXJ0RGVidWdnZXJTdGF0ZW1lbnQsXG4gIEVtcHR5U3RhdGVtZW50OiBjb252ZXJ0RW1wdHlTdGF0ZW1lbnQsXG4gIEV4cHJlc3Npb25TdGF0ZW1lbnQ6IGNvbnZlcnRFeHByZXNzaW9uU3RhdGVtZW50LFxuICBGb3JTdGF0ZW1lbnQ6IGNvbnZlcnRGb3JTdGF0ZW1lbnQsXG4gIEZvckluU3RhdGVtZW50OiBjb252ZXJ0Rm9ySW5TdGF0ZW1lbnQsXG4gIEZ1bmN0aW9uRGVjbGFyYXRpb246IGNvbnZlcnRGdW5jdGlvbkRlY2xhcmF0aW9uLFxuICBGdW5jdGlvbkV4cHJlc3Npb246IGNvbnZlcnRGdW5jdGlvbkV4cHJlc3Npb24sXG4gIElkZW50aWZpZXI6IGNvbnZlcnRJZGVudGlmaWVyRXhwcmVzc2lvbixcbiAgSWZTdGF0ZW1lbnQ6IGNvbnZlcnRJZlN0YXRlbWVudCxcbiAgTGl0ZXJhbDogY29udmVydExpdGVyYWwsXG4gIExhYmVsZWRTdGF0ZW1lbnQ6IGNvbnZlcnRMYWJlbGVkU3RhdGVtZW50LFxuICBMb2dpY2FsRXhwcmVzc2lvbjogY29udmVydEJpbmFyeUV4cHJlc3Npb24sXG4gIE1lbWJlckV4cHJlc3Npb246IGNvbnZlcnRNZW1iZXJFeHByZXNzaW9uLFxuICBOZXdFeHByZXNzaW9uOiBjb252ZXJ0TmV3RXhwcmVzc2lvbixcbiAgT2JqZWN0RXhwcmVzc2lvbjogY29udmVydE9iamVjdEV4cHJlc3Npb24sXG4gIFByb2dyYW06IGNvbnZlcnRQcm9ncmFtLFxuICBQcm9wZXJ0eTogY29udmVydFByb3BlcnR5LFxuICBSZXR1cm5TdGF0ZW1lbnQ6IGNvbnZlcnRSZXR1cm5TdGF0ZW1lbnQsXG4gIFNlcXVlbmNlRXhwcmVzc2lvbjogY29udmVydFNlcXVlbmNlRXhwcmVzc2lvbixcbiAgU3dpdGNoU3RhdGVtZW50OiBjb252ZXJ0U3dpdGNoU3RhdGVtZW50LFxuICBTd2l0Y2hDYXNlOiBjb252ZXJ0U3dpdGNoQ2FzZSxcbiAgVGhpc0V4cHJlc3Npb246IGNvbnZlcnRUaGlzRXhwcmVzc2lvbixcbiAgVGhyb3dTdGF0ZW1lbnQ6IGNvbnZlcnRUaHJvd1N0YXRlbWVudCxcbiAgVHJ5U3RhdGVtZW50OiBjb252ZXJ0VHJ5U3RhdGVtZW50LFxuICBVbmFyeUV4cHJlc3Npb246IGNvbnZlcnRVbmFyeUV4cHJlc3Npb24sXG4gIFVwZGF0ZUV4cHJlc3Npb246IGNvbnZlcnRVcGRhdGVFeHByZXNzaW9uLFxuICBWYXJpYWJsZURlY2xhcmF0aW9uOiBjb252ZXJ0VmFyaWFibGVEZWNsYXJhdGlvblN0YXRlbWVudCxcbiAgVmFyaWFibGVEZWNsYXJhdG9yOiBjb252ZXJ0VmFyaWFibGVEZWNsYXJhdG9yLFxuICBXaGlsZVN0YXRlbWVudDogY29udmVydFdoaWxlU3RhdGVtZW50LFxuICBXaXRoU3RhdGVtZW50OiBjb252ZXJ0V2l0aFN0YXRlbWVudFxufTtcbiJdfQ==