"use strict";

var LaserBat = require("laserbat-ast");

function convert(node) {
  if (node == null) {
    return null;
  }
  return Convert[node.type](node);
}

exports["default"] = convert;
function convertAssignmentExpression(node) {
  return new LaserBat.AssignmentExpression(node.operator, convert(node.left), convert(node.right));
}

function convertArrayExpression(node) {
  return new LaserBat.ArrayExpression(node.elements.map(convert));
}

function convertBinaryExpression(node) {
  return new LaserBat.BinaryExpression(node.operator, convert(node.left), convert(node.right));
}

function convertBlock(node) {
  return new LaserBat.Block(node.body.map(convert));
}

function convertBlockStatement(node) {
  return new LaserBat.BlockStatement(convertBlock(node));
}

function convertBreakStatement(node) {
  return new LaserBat.BreakStatement(convertIdentifier(node.label));
}

function convertCallExpression(node) {
  return new LaserBat.CallExpression(convert(node.callee), node.arguments.map(convert));
}

function convertCatchClause(node) {
  return new LaserBat.CatchClause(convertIdentifier(node.param), convertBlock(node.body));
}

function convertConditionalExpression(node) {
  return new LaserBat.ConditionalExpression(convert(node.test), convert(node.consequent), convert(node.alternate));
}

function convertContinueStatement(node) {
  return new LaserBat.ContinueStatement(convert(node.label));
}

function convertDebuggerStatement() {
  return new LaserBat.DebuggerStatement();
}

function convertDoWhileStatement(node) {
  return new LaserBat.DoWhileStatement(convert(node.body), convert(node.test));
}

function convertEmptyStatement() {
  return new LaserBat.EmptyStatement();
}

function convertExpressionStatement(node) {
  return new LaserBat.ExpressionStatement(convert(node.expression));
}

function convertForStatement(node) {
  return new LaserBat.ForStatement(convert(node.init), convert(node.test), convert(node.update), convert(node.body));
}

function convertForInStatement(node) {
  return new LaserBat.ForInStatement(convert(node.left), convert(node.right), convert(node.body));
}

function convertFunctionDeclaration(node) {
  return new LaserBat.FunctionDeclaration(convertIdentifier(node.id), node.params.map(convertIdentifier), convertStatementsToFunctionBody(node.body.body));
}

function convertFunctionExpression(node) {
  return new LaserBat.FunctionExpression(convertIdentifier(node.id), node.params.map(convertIdentifier), convertStatementsToFunctionBody(node.body.body));
}

function convertIdentifier(node) {
  if (node === null) return null;
  return new LaserBat.Identifier(node.name);
}

function convertIdentifierExpression(node) {
  return new LaserBat.IdentifierExpression(convertIdentifier(node));
}

function convertIfStatement(node) {
  return new LaserBat.IfStatement(convert(node.test), convert(node.consequent), convert(node.alternate));
}

function convertLabeledStatement(node) {
  return new LaserBat.LabeledStatement(convertIdentifier(node.label), convert(node.body));
}

function convertLiteral(node) {
  switch (typeof node.value) {
    case "number":
      return new LaserBat.LiteralNumericExpression(node.value);
    case "string":
      return new LaserBat.LiteralStringExpression(node.value);
    case "boolean":
      return new LaserBat.LiteralBooleanExpression(node.value);
    default:
      if (node.value === null) return new LaserBat.LiteralNullExpression();else return new LaserBat.LiteralRegExpExpression(node.value.toString());
  }
}

function convertMemberExpression(node) {
  if (node.computed) {
    return new LaserBat.ComputedMemberExpression(convert(node.object), convert(node.property));
  } else {
    return new LaserBat.StaticMemberExpression(convert(node.object), convertIdentifier(node.property));
  }
}

function convertNewExpression(node) {
  return new LaserBat.NewExpression(convert(node.callee), node.arguments.map(convert));
}

function convertObjectExpression(node) {
  return new LaserBat.ObjectExpression(node.properties.map(convert));
}

function convertDirective(node) {
  node = node.expression;
  var value = node.value;
  return value === "use strict" ? new LaserBat.UseStrictDirective() : new LaserBat.UnknownDirective(value);
}

function convertStatementsToFunctionBody(stmts) {
  for (var i = 0; i < stmts.length; i++) {
    if (!(stmts[i].type === "ExpressionStatement" && stmts[i].expression.type === "Literal" && typeof stmts[i].expression.value === "string")) {
      break;
    }
  }
  return new LaserBat.FunctionBody(stmts.slice(0, i).map(convertDirective), stmts.slice(i).map(convert));
}

function convertProgram(node) {
  return new LaserBat.Script(convertStatementsToFunctionBody(node.body));
}

function convertPropertyName(literal) {
  if (literal.type === "Identifier") {
    return new LaserBat.PropertyName("identifier", literal.name);
  } else {
    return new LaserBat.PropertyName(typeof literal.value, literal.value.toString());
  }
}

function convertProperty(node) {
  switch (node.kind) {
    case "init":
      return new LaserBat.DataProperty(convertPropertyName(node.key), convert(node.value));
    case "get":
      return new LaserBat.Getter(convertPropertyName(node.key), convertStatementsToFunctionBody(node.value.body.body));
    case "set":
      return new LaserBat.Setter(convertPropertyName(node.key), convertIdentifier(node.value.params[0]), convertStatementsToFunctionBody(node.value.body.body));
  }
}

function convertReturnStatement(node) {
  return new LaserBat.ReturnStatement(convert(node.argument));
}

function convertSequenceExpression(node) {
  var expr = convert(node.expressions[0]);
  for (var i = 1; i < node.expressions.length; i++) {
    expr = new LaserBat.BinaryExpression(",", expr, convert(node.expressions[i]));
  }
  return expr;
}

function convertSwitchCase(node) {
  if (node.test) {
    return new LaserBat.SwitchCase(convert(node.test), node.consequent.map(convert));
  } else {
    return new LaserBat.SwitchDefault(node.consequent.map(convert));
  }
}

function convertSwitchStatement(node) {
  if (!node.cases.every(function (c) {
    return c.test != null;
  })) {
    var scs = node.cases.map(convertSwitchCase);
    for (var i = 0; i < scs.length; i++) {
      if (scs[i].type === "SwitchDefault") {
        break;
      }
    }
    return new LaserBat.SwitchStatementWithDefault(convert(node.discriminant), scs.slice(0, i), scs[i], scs.slice(i + 1));
  } else {
    return new LaserBat.SwitchStatement(convert(node.discriminant), node.cases.map(convertSwitchCase));
  }
}

function convertThisExpression() {
  return new LaserBat.ThisExpression();
}

function convertThrowStatement(node) {
  return new LaserBat.ThrowStatement(convert(node.argument));
}

function convertTryStatement(node) {
  if (node.finalizer != null) {
    return new LaserBat.TryFinallyStatement(convertBlock(node.block), convert(node.handlers[0]), convertBlock(node.finalizer));
  } else {
    return new LaserBat.TryCatchStatement(convertBlock(node.block), convert(node.handlers[0]));
  }
}

function convertUpdateExpression(node) {
  if (node.prefix) {
    return new LaserBat.PrefixExpression(node.operator, convert(node.argument));
  } else {
    return new LaserBat.PostfixExpression(convert(node.argument), node.operator);
  }
}

function convertUnaryExpression(node) {
  return new LaserBat.PrefixExpression(node.operator, convert(node.argument));
}

function convertVariableDeclaration(node) {
  return new LaserBat.VariableDeclaration(node.kind, node.declarations.map(convertVariableDeclarator));
}

function convertVariableDeclarator(node) {
  return new LaserBat.VariableDeclarator(convertIdentifier(node.id), convert(node.init));
}

function convertWhileStatement(node) {
  return new LaserBat.WhileStatement(convert(node.test), convert(node.body));
}

function convertWithStatement(node) {
  return new LaserBat.WithStatement(convert(node.object), convert(node.body));
}

var Convert = {
  AssignmentExpression: convertAssignmentExpression,
  ArrayExpression: convertArrayExpression,
  BlockStatement: convertBlockStatement,
  BinaryExpression: convertBinaryExpression,
  BreakStatement: convertBreakStatement,
  CallExpression: convertCallExpression,
  CatchClause: convertCatchClause,
  ConditionalExpression: convertConditionalExpression,
  ContinueStatement: convertContinueStatement,
  DoWhileStatement: convertDoWhileStatement,
  DebuggerStatement: convertDebuggerStatement,
  EmptyStatement: convertEmptyStatement,
  ExpressionStatement: convertExpressionStatement,
  ForStatement: convertForStatement,
  ForInStatement: convertForInStatement,
  FunctionDeclaration: convertFunctionDeclaration,
  FunctionExpression: convertFunctionExpression,
  Identifier: convertIdentifierExpression,
  IfStatement: convertIfStatement,
  Literal: convertLiteral,
  LabeledStatement: convertLabeledStatement,
  LogicalExpression: convertBinaryExpression,
  MemberExpression: convertMemberExpression,
  NewExpression: convertNewExpression,
  ObjectExpression: convertObjectExpression,
  Program: convertProgram,
  Property: convertProperty,
  ReturnStatement: convertReturnStatement,
  SequenceExpression: convertSequenceExpression,
  SwitchStatement: convertSwitchStatement,
  SwitchCase: convertSwitchCase,
  ThisExpression: convertThisExpression,
  ThrowStatement: convertThrowStatement,
  TryStatement: convertTryStatement,
  UnaryExpression: convertUnaryExpression,
  UpdateExpression: convertUpdateExpression,
  VariableDeclaration: convertVariableDeclaration,
  VariableDeclarator: convertVariableDeclarator,
  WhileStatement: convertWhileStatement,
  WithStatement: convertWithStatement
};
//# sourceMappingURL=data:application/json;base64,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ZUFBYSxFQUFFLG9CQUFvQjtBQUNuQyxrQkFBZ0IsRUFBRSx1QkFBdUI7QUFDekMsU0FBTyxFQUFFLGNBQWM7QUFDdkIsVUFBUSxFQUFFLGVBQWU7QUFDekIsaUJBQWUsRUFBRSxzQkFBc0I7QUFDdkMsb0JBQWtCLEVBQUUseUJBQXlCO0FBQzdDLGlCQUFlLEVBQUUsc0JBQXNCO0FBQ3ZDLFlBQVUsRUFBRSxpQkFBaUI7QUFDN0IsZ0JBQWMsRUFBRSxxQkFBcUI7QUFDckMsZ0JBQWMsRUFBRSxxQkFBcUI7QUFDckMsY0FBWSxFQUFFLG1CQUFtQjtBQUNqQyxpQkFBZSxFQUFFLHNCQUFzQjtBQUN2QyxrQkFBZ0IsRUFBRSx1QkFBdUI7QUFDekMscUJBQW1CLEVBQUUsMEJBQTBCO0FBQy9DLG9CQUFrQixFQUFFLHlCQUF5QjtBQUM3QyxnQkFBYyxFQUFFLHFCQUFxQjtBQUNyQyxlQUFhLEVBQUUsb0JBQW9CO0NBQ3BDLENBQUMiLCJmaWxlIjoic3JjL3RvLWxhc2VyYmF0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNCBTaGFwZSBTZWN1cml0eSwgSW5jLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIilcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCAqIGFzIExhc2VyQmF0IGZyb20gXCJsYXNlcmJhdC1hc3RcIjtcblxuLy8gY29udmVydCBTcGlkZXJNb25rZXkgQVNUIGZvcm1hdCB0byBMYXNlckJhdCBBU1QgZm9ybWF0XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvbnZlcnQobm9kZSkge1xuICBpZiAobm9kZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIENvbnZlcnRbbm9kZS50eXBlXShub2RlKTtcbn1cblxuZnVuY3Rpb24gY29udmVydEFzc2lnbm1lbnRFeHByZXNzaW9uKG5vZGUpIHtcbiAgcmV0dXJuIG5ldyBMYXNlckJhdC5Bc3NpZ25tZW50RXhwcmVzc2lvbihub2RlLm9wZXJhdG9yLCBjb252ZXJ0KG5vZGUubGVmdCksIGNvbnZlcnQobm9kZS5yaWdodCkpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0QXJyYXlFeHByZXNzaW9uKG5vZGUpIHtcbiAgcmV0dXJuIG5ldyBMYXNlckJhdC5BcnJheUV4cHJlc3Npb24obm9kZS5lbGVtZW50cy5tYXAoY29udmVydCkpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0QmluYXJ5RXhwcmVzc2lvbihub2RlKSB7XG4gIHJldHVybiBuZXcgTGFzZXJCYXQuQmluYXJ5RXhwcmVzc2lvbihub2RlLm9wZXJhdG9yLCBjb252ZXJ0KG5vZGUubGVmdCksIGNvbnZlcnQobm9kZS5yaWdodCkpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0QmxvY2sobm9kZSkge1xuICByZXR1cm4gbmV3IExhc2VyQmF0LkJsb2NrKG5vZGUuYm9keS5tYXAoY29udmVydCkpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0QmxvY2tTdGF0ZW1lbnQobm9kZSkge1xuICByZXR1cm4gbmV3IExhc2VyQmF0LkJsb2NrU3RhdGVtZW50KGNvbnZlcnRCbG9jayhub2RlKSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRCcmVha1N0YXRlbWVudChub2RlKSB7XG4gIHJldHVybiBuZXcgTGFzZXJCYXQuQnJlYWtTdGF0ZW1lbnQoY29udmVydElkZW50aWZpZXIobm9kZS5sYWJlbCkpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0Q2FsbEV4cHJlc3Npb24obm9kZSkge1xuICByZXR1cm4gbmV3IExhc2VyQmF0LkNhbGxFeHByZXNzaW9uKGNvbnZlcnQobm9kZS5jYWxsZWUpLCBub2RlLmFyZ3VtZW50cy5tYXAoY29udmVydCkpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0Q2F0Y2hDbGF1c2Uobm9kZSkge1xuICByZXR1cm4gbmV3IExhc2VyQmF0LkNhdGNoQ2xhdXNlKGNvbnZlcnRJZGVudGlmaWVyKG5vZGUucGFyYW0pLCBjb252ZXJ0QmxvY2sobm9kZS5ib2R5KSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRDb25kaXRpb25hbEV4cHJlc3Npb24obm9kZSkge1xuICByZXR1cm4gbmV3IExhc2VyQmF0LkNvbmRpdGlvbmFsRXhwcmVzc2lvbihjb252ZXJ0KG5vZGUudGVzdCksIGNvbnZlcnQobm9kZS5jb25zZXF1ZW50KSwgY29udmVydChub2RlLmFsdGVybmF0ZSkpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0Q29udGludWVTdGF0ZW1lbnQobm9kZSkge1xuICByZXR1cm4gbmV3IExhc2VyQmF0LkNvbnRpbnVlU3RhdGVtZW50KGNvbnZlcnQobm9kZS5sYWJlbCkpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0RGVidWdnZXJTdGF0ZW1lbnQoKSB7XG4gIHJldHVybiBuZXcgTGFzZXJCYXQuRGVidWdnZXJTdGF0ZW1lbnQoKTtcbn1cblxuZnVuY3Rpb24gY29udmVydERvV2hpbGVTdGF0ZW1lbnQobm9kZSkge1xuICByZXR1cm4gbmV3IExhc2VyQmF0LkRvV2hpbGVTdGF0ZW1lbnQoY29udmVydChub2RlLmJvZHkpLCBjb252ZXJ0KG5vZGUudGVzdCkpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0RW1wdHlTdGF0ZW1lbnQoKSB7XG4gIHJldHVybiBuZXcgTGFzZXJCYXQuRW1wdHlTdGF0ZW1lbnQoKTtcbn1cblxuZnVuY3Rpb24gY29udmVydEV4cHJlc3Npb25TdGF0ZW1lbnQobm9kZSkge1xuICByZXR1cm4gbmV3IExhc2VyQmF0LkV4cHJlc3Npb25TdGF0ZW1lbnQoY29udmVydChub2RlLmV4cHJlc3Npb24pKTtcbn1cblxuZnVuY3Rpb24gY29udmVydEZvclN0YXRlbWVudChub2RlKSB7XG4gIHJldHVybiBuZXcgTGFzZXJCYXQuRm9yU3RhdGVtZW50KGNvbnZlcnQobm9kZS5pbml0KSwgY29udmVydChub2RlLnRlc3QpLCBjb252ZXJ0KG5vZGUudXBkYXRlKSwgY29udmVydChub2RlLmJvZHkpKTtcbn1cblxuZnVuY3Rpb24gY29udmVydEZvckluU3RhdGVtZW50KG5vZGUpIHtcbiAgcmV0dXJuIG5ldyBMYXNlckJhdC5Gb3JJblN0YXRlbWVudChjb252ZXJ0KG5vZGUubGVmdCksIGNvbnZlcnQobm9kZS5yaWdodCksIGNvbnZlcnQobm9kZS5ib2R5KSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRGdW5jdGlvbkRlY2xhcmF0aW9uKG5vZGUpIHtcbiAgcmV0dXJuIG5ldyBMYXNlckJhdC5GdW5jdGlvbkRlY2xhcmF0aW9uKGNvbnZlcnRJZGVudGlmaWVyKG5vZGUuaWQpLCBub2RlLnBhcmFtcy5tYXAoY29udmVydElkZW50aWZpZXIpLCBjb252ZXJ0U3RhdGVtZW50c1RvRnVuY3Rpb25Cb2R5KG5vZGUuYm9keS5ib2R5KSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRGdW5jdGlvbkV4cHJlc3Npb24obm9kZSkge1xuICByZXR1cm4gbmV3IExhc2VyQmF0LkZ1bmN0aW9uRXhwcmVzc2lvbihjb252ZXJ0SWRlbnRpZmllcihub2RlLmlkKSwgbm9kZS5wYXJhbXMubWFwKGNvbnZlcnRJZGVudGlmaWVyKSwgY29udmVydFN0YXRlbWVudHNUb0Z1bmN0aW9uQm9keShub2RlLmJvZHkuYm9keSkpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0SWRlbnRpZmllcihub2RlKSB7XG4gIGlmIChub2RlID09PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIG5ldyBMYXNlckJhdC5JZGVudGlmaWVyKG5vZGUubmFtZSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRJZGVudGlmaWVyRXhwcmVzc2lvbihub2RlKSB7XG4gIHJldHVybiBuZXcgTGFzZXJCYXQuSWRlbnRpZmllckV4cHJlc3Npb24oY29udmVydElkZW50aWZpZXIobm9kZSkpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0SWZTdGF0ZW1lbnQobm9kZSkge1xuICByZXR1cm4gbmV3IExhc2VyQmF0LklmU3RhdGVtZW50KGNvbnZlcnQobm9kZS50ZXN0KSwgY29udmVydChub2RlLmNvbnNlcXVlbnQpLCBjb252ZXJ0KG5vZGUuYWx0ZXJuYXRlKSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRMYWJlbGVkU3RhdGVtZW50KG5vZGUpIHtcbiAgcmV0dXJuIG5ldyBMYXNlckJhdC5MYWJlbGVkU3RhdGVtZW50KGNvbnZlcnRJZGVudGlmaWVyKG5vZGUubGFiZWwpLCBjb252ZXJ0KG5vZGUuYm9keSkpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0TGl0ZXJhbChub2RlKSB7XG4gIHN3aXRjaCAodHlwZW9mIG5vZGUudmFsdWUpIHtcbiAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICByZXR1cm4gbmV3IExhc2VyQmF0LkxpdGVyYWxOdW1lcmljRXhwcmVzc2lvbihub2RlLnZhbHVlKTtcbiAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICByZXR1cm4gbmV3IExhc2VyQmF0LkxpdGVyYWxTdHJpbmdFeHByZXNzaW9uKG5vZGUudmFsdWUpO1xuICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICByZXR1cm4gbmV3IExhc2VyQmF0LkxpdGVyYWxCb29sZWFuRXhwcmVzc2lvbihub2RlLnZhbHVlKTtcbiAgICBkZWZhdWx0OlxuICAgICAgaWYgKG5vZGUudmFsdWUgPT09IG51bGwpXG4gICAgICAgIHJldHVybiBuZXcgTGFzZXJCYXQuTGl0ZXJhbE51bGxFeHByZXNzaW9uKCk7XG4gICAgICBlbHNlXG4gICAgICAgIHJldHVybiBuZXcgTGFzZXJCYXQuTGl0ZXJhbFJlZ0V4cEV4cHJlc3Npb24obm9kZS52YWx1ZS50b1N0cmluZygpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb252ZXJ0TWVtYmVyRXhwcmVzc2lvbihub2RlKSB7XG4gIGlmIChub2RlLmNvbXB1dGVkKSB7XG4gICAgcmV0dXJuIG5ldyBMYXNlckJhdC5Db21wdXRlZE1lbWJlckV4cHJlc3Npb24oY29udmVydChub2RlLm9iamVjdCksIGNvbnZlcnQobm9kZS5wcm9wZXJ0eSkpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXcgTGFzZXJCYXQuU3RhdGljTWVtYmVyRXhwcmVzc2lvbihjb252ZXJ0KG5vZGUub2JqZWN0KSwgY29udmVydElkZW50aWZpZXIobm9kZS5wcm9wZXJ0eSkpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnROZXdFeHByZXNzaW9uKG5vZGUpIHtcbiAgcmV0dXJuIG5ldyBMYXNlckJhdC5OZXdFeHByZXNzaW9uKGNvbnZlcnQobm9kZS5jYWxsZWUpLCBub2RlLmFyZ3VtZW50cy5tYXAoY29udmVydCkpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0T2JqZWN0RXhwcmVzc2lvbihub2RlKSB7XG4gIHJldHVybiBuZXcgTGFzZXJCYXQuT2JqZWN0RXhwcmVzc2lvbihub2RlLnByb3BlcnRpZXMubWFwKGNvbnZlcnQpKTtcbn1cblxuZnVuY3Rpb24gY29udmVydERpcmVjdGl2ZShub2RlKSB7XG4gIG5vZGUgPSBub2RlLmV4cHJlc3Npb247XG4gIHZhciB2YWx1ZSA9IG5vZGUudmFsdWU7XG4gIHJldHVybiB2YWx1ZSA9PT0gXCJ1c2Ugc3RyaWN0XCIgPyBuZXcgTGFzZXJCYXQuVXNlU3RyaWN0RGlyZWN0aXZlKCkgOiBuZXcgTGFzZXJCYXQuVW5rbm93bkRpcmVjdGl2ZSh2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRTdGF0ZW1lbnRzVG9GdW5jdGlvbkJvZHkoc3RtdHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdG10cy5sZW5ndGg7IGkrKykge1xuICAgIGlmICghKHN0bXRzW2ldLnR5cGUgPT09IFwiRXhwcmVzc2lvblN0YXRlbWVudFwiICYmIHN0bXRzW2ldLmV4cHJlc3Npb24udHlwZSA9PT0gXCJMaXRlcmFsXCIgJiYgdHlwZW9mIHN0bXRzW2ldLmV4cHJlc3Npb24udmFsdWUgPT09IFwic3RyaW5nXCIpKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5ldyBMYXNlckJhdC5GdW5jdGlvbkJvZHkoc3RtdHMuc2xpY2UoMCwgaSkubWFwKGNvbnZlcnREaXJlY3RpdmUpLCBzdG10cy5zbGljZShpKS5tYXAoY29udmVydCkpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0UHJvZ3JhbShub2RlKSB7XG4gIHJldHVybiBuZXcgTGFzZXJCYXQuU2NyaXB0KGNvbnZlcnRTdGF0ZW1lbnRzVG9GdW5jdGlvbkJvZHkobm9kZS5ib2R5KSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRQcm9wZXJ0eU5hbWUobGl0ZXJhbCkge1xuICBpZiAobGl0ZXJhbC50eXBlID09PSBcIklkZW50aWZpZXJcIikge1xuICAgIHJldHVybiBuZXcgTGFzZXJCYXQuUHJvcGVydHlOYW1lKFwiaWRlbnRpZmllclwiLCBsaXRlcmFsLm5hbWUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXcgTGFzZXJCYXQuUHJvcGVydHlOYW1lKHR5cGVvZiBsaXRlcmFsLnZhbHVlLCBsaXRlcmFsLnZhbHVlLnRvU3RyaW5nKCkpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRQcm9wZXJ0eShub2RlKSB7XG4gIHN3aXRjaCAobm9kZS5raW5kKSB7XG4gICAgY2FzZSBcImluaXRcIjpcbiAgICAgIHJldHVybiBuZXcgTGFzZXJCYXQuRGF0YVByb3BlcnR5KGNvbnZlcnRQcm9wZXJ0eU5hbWUobm9kZS5rZXkpLCBjb252ZXJ0KG5vZGUudmFsdWUpKTtcbiAgICBjYXNlIFwiZ2V0XCI6XG4gICAgICByZXR1cm4gbmV3IExhc2VyQmF0LkdldHRlcihjb252ZXJ0UHJvcGVydHlOYW1lKG5vZGUua2V5KSwgY29udmVydFN0YXRlbWVudHNUb0Z1bmN0aW9uQm9keShub2RlLnZhbHVlLmJvZHkuYm9keSkpO1xuICAgIGNhc2UgXCJzZXRcIjpcbiAgICAgIHJldHVybiBuZXcgTGFzZXJCYXQuU2V0dGVyKGNvbnZlcnRQcm9wZXJ0eU5hbWUobm9kZS5rZXkpLCBjb252ZXJ0SWRlbnRpZmllcihub2RlLnZhbHVlLnBhcmFtc1swXSksIGNvbnZlcnRTdGF0ZW1lbnRzVG9GdW5jdGlvbkJvZHkobm9kZS52YWx1ZS5ib2R5LmJvZHkpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb252ZXJ0UmV0dXJuU3RhdGVtZW50KG5vZGUpIHtcbiAgcmV0dXJuIG5ldyBMYXNlckJhdC5SZXR1cm5TdGF0ZW1lbnQoY29udmVydChub2RlLmFyZ3VtZW50KSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRTZXF1ZW5jZUV4cHJlc3Npb24obm9kZSkge1xuICB2YXIgZXhwciA9IGNvbnZlcnQobm9kZS5leHByZXNzaW9uc1swXSk7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgbm9kZS5leHByZXNzaW9ucy5sZW5ndGg7IGkrKykge1xuICAgIGV4cHIgPSBuZXcgTGFzZXJCYXQuQmluYXJ5RXhwcmVzc2lvbihcIixcIiwgZXhwciwgY29udmVydChub2RlLmV4cHJlc3Npb25zW2ldKSk7XG4gIH1cbiAgcmV0dXJuIGV4cHI7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRTd2l0Y2hDYXNlKG5vZGUpIHtcbiAgaWYgKG5vZGUudGVzdCkge1xuICAgIHJldHVybiBuZXcgTGFzZXJCYXQuU3dpdGNoQ2FzZShjb252ZXJ0KG5vZGUudGVzdCksIG5vZGUuY29uc2VxdWVudC5tYXAoY29udmVydCkpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXcgTGFzZXJCYXQuU3dpdGNoRGVmYXVsdChub2RlLmNvbnNlcXVlbnQubWFwKGNvbnZlcnQpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb252ZXJ0U3dpdGNoU3RhdGVtZW50KG5vZGUpIHtcbiAgaWYgKCFub2RlLmNhc2VzLmV2ZXJ5KChjKSA9PiBjLnRlc3QgIT0gbnVsbCApKSB7XG4gICAgdmFyIHNjcyA9IG5vZGUuY2FzZXMubWFwKGNvbnZlcnRTd2l0Y2hDYXNlKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNjcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHNjc1tpXS50eXBlID09PSBcIlN3aXRjaERlZmF1bHRcIikge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBMYXNlckJhdC5Td2l0Y2hTdGF0ZW1lbnRXaXRoRGVmYXVsdChjb252ZXJ0KG5vZGUuZGlzY3JpbWluYW50KSwgc2NzLnNsaWNlKDAsIGkpLCBzY3NbaV0sIHNjcy5zbGljZShpICsgMSkpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXcgTGFzZXJCYXQuU3dpdGNoU3RhdGVtZW50KGNvbnZlcnQobm9kZS5kaXNjcmltaW5hbnQpLCBub2RlLmNhc2VzLm1hcChjb252ZXJ0U3dpdGNoQ2FzZSkpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRUaGlzRXhwcmVzc2lvbigpIHtcbiAgcmV0dXJuIG5ldyBMYXNlckJhdC5UaGlzRXhwcmVzc2lvbigpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0VGhyb3dTdGF0ZW1lbnQobm9kZSkge1xuICByZXR1cm4gbmV3IExhc2VyQmF0LlRocm93U3RhdGVtZW50KGNvbnZlcnQobm9kZS5hcmd1bWVudCkpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0VHJ5U3RhdGVtZW50KG5vZGUpIHtcbiAgaWYgKG5vZGUuZmluYWxpemVyICE9IG51bGwpIHtcbiAgICByZXR1cm4gbmV3IExhc2VyQmF0LlRyeUZpbmFsbHlTdGF0ZW1lbnQoY29udmVydEJsb2NrKG5vZGUuYmxvY2spLCBjb252ZXJ0KG5vZGUuaGFuZGxlcnNbMF0pLCBjb252ZXJ0QmxvY2sobm9kZS5maW5hbGl6ZXIpKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbmV3IExhc2VyQmF0LlRyeUNhdGNoU3RhdGVtZW50KGNvbnZlcnRCbG9jayhub2RlLmJsb2NrKSwgY29udmVydChub2RlLmhhbmRsZXJzWzBdKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY29udmVydFVwZGF0ZUV4cHJlc3Npb24obm9kZSkge1xuICBpZiAobm9kZS5wcmVmaXgpIHtcbiAgICByZXR1cm4gbmV3IExhc2VyQmF0LlByZWZpeEV4cHJlc3Npb24obm9kZS5vcGVyYXRvciwgY29udmVydChub2RlLmFyZ3VtZW50KSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBMYXNlckJhdC5Qb3N0Zml4RXhwcmVzc2lvbihjb252ZXJ0KG5vZGUuYXJndW1lbnQpLCBub2RlLm9wZXJhdG9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb252ZXJ0VW5hcnlFeHByZXNzaW9uKG5vZGUpIHtcbiAgcmV0dXJuIG5ldyBMYXNlckJhdC5QcmVmaXhFeHByZXNzaW9uKG5vZGUub3BlcmF0b3IsIGNvbnZlcnQobm9kZS5hcmd1bWVudCkpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0VmFyaWFibGVEZWNsYXJhdGlvbihub2RlKSB7XG4gIHJldHVybiBuZXcgTGFzZXJCYXQuVmFyaWFibGVEZWNsYXJhdGlvbihub2RlLmtpbmQsIG5vZGUuZGVjbGFyYXRpb25zLm1hcChjb252ZXJ0VmFyaWFibGVEZWNsYXJhdG9yKSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRWYXJpYWJsZURlY2xhcmF0b3Iobm9kZSkge1xuICByZXR1cm4gbmV3IExhc2VyQmF0LlZhcmlhYmxlRGVjbGFyYXRvcihjb252ZXJ0SWRlbnRpZmllcihub2RlLmlkKSwgY29udmVydChub2RlLmluaXQpKTtcbn1cblxuZnVuY3Rpb24gY29udmVydFdoaWxlU3RhdGVtZW50KG5vZGUpIHtcbiAgcmV0dXJuIG5ldyBMYXNlckJhdC5XaGlsZVN0YXRlbWVudChjb252ZXJ0KG5vZGUudGVzdCksIGNvbnZlcnQobm9kZS5ib2R5KSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRXaXRoU3RhdGVtZW50KG5vZGUpIHtcbiAgcmV0dXJuIG5ldyBMYXNlckJhdC5XaXRoU3RhdGVtZW50KGNvbnZlcnQobm9kZS5vYmplY3QpLCBjb252ZXJ0KG5vZGUuYm9keSkpO1xufVxuXG5jb25zdCBDb252ZXJ0ID0ge1xuICBBc3NpZ25tZW50RXhwcmVzc2lvbjogY29udmVydEFzc2lnbm1lbnRFeHByZXNzaW9uLFxuICBBcnJheUV4cHJlc3Npb246IGNvbnZlcnRBcnJheUV4cHJlc3Npb24sXG4gIEJsb2NrU3RhdGVtZW50OiBjb252ZXJ0QmxvY2tTdGF0ZW1lbnQsXG4gIEJpbmFyeUV4cHJlc3Npb246IGNvbnZlcnRCaW5hcnlFeHByZXNzaW9uLFxuICBCcmVha1N0YXRlbWVudDogY29udmVydEJyZWFrU3RhdGVtZW50LFxuICBDYWxsRXhwcmVzc2lvbjogY29udmVydENhbGxFeHByZXNzaW9uLFxuICBDYXRjaENsYXVzZTogY29udmVydENhdGNoQ2xhdXNlLFxuICBDb25kaXRpb25hbEV4cHJlc3Npb246IGNvbnZlcnRDb25kaXRpb25hbEV4cHJlc3Npb24sXG4gIENvbnRpbnVlU3RhdGVtZW50OiBjb252ZXJ0Q29udGludWVTdGF0ZW1lbnQsXG4gIERvV2hpbGVTdGF0ZW1lbnQ6IGNvbnZlcnREb1doaWxlU3RhdGVtZW50LFxuICBEZWJ1Z2dlclN0YXRlbWVudDogY29udmVydERlYnVnZ2VyU3RhdGVtZW50LFxuICBFbXB0eVN0YXRlbWVudDogY29udmVydEVtcHR5U3RhdGVtZW50LFxuICBFeHByZXNzaW9uU3RhdGVtZW50OiBjb252ZXJ0RXhwcmVzc2lvblN0YXRlbWVudCxcbiAgRm9yU3RhdGVtZW50OiBjb252ZXJ0Rm9yU3RhdGVtZW50LFxuICBGb3JJblN0YXRlbWVudDogY29udmVydEZvckluU3RhdGVtZW50LFxuICBGdW5jdGlvbkRlY2xhcmF0aW9uOiBjb252ZXJ0RnVuY3Rpb25EZWNsYXJhdGlvbixcbiAgRnVuY3Rpb25FeHByZXNzaW9uOiBjb252ZXJ0RnVuY3Rpb25FeHByZXNzaW9uLFxuICBJZGVudGlmaWVyOiBjb252ZXJ0SWRlbnRpZmllckV4cHJlc3Npb24sXG4gIElmU3RhdGVtZW50OiBjb252ZXJ0SWZTdGF0ZW1lbnQsXG4gIExpdGVyYWw6IGNvbnZlcnRMaXRlcmFsLFxuICBMYWJlbGVkU3RhdGVtZW50OiBjb252ZXJ0TGFiZWxlZFN0YXRlbWVudCxcbiAgTG9naWNhbEV4cHJlc3Npb246IGNvbnZlcnRCaW5hcnlFeHByZXNzaW9uLFxuICBNZW1iZXJFeHByZXNzaW9uOiBjb252ZXJ0TWVtYmVyRXhwcmVzc2lvbixcbiAgTmV3RXhwcmVzc2lvbjogY29udmVydE5ld0V4cHJlc3Npb24sXG4gIE9iamVjdEV4cHJlc3Npb246IGNvbnZlcnRPYmplY3RFeHByZXNzaW9uLFxuICBQcm9ncmFtOiBjb252ZXJ0UHJvZ3JhbSxcbiAgUHJvcGVydHk6IGNvbnZlcnRQcm9wZXJ0eSxcbiAgUmV0dXJuU3RhdGVtZW50OiBjb252ZXJ0UmV0dXJuU3RhdGVtZW50LFxuICBTZXF1ZW5jZUV4cHJlc3Npb246IGNvbnZlcnRTZXF1ZW5jZUV4cHJlc3Npb24sXG4gIFN3aXRjaFN0YXRlbWVudDogY29udmVydFN3aXRjaFN0YXRlbWVudCxcbiAgU3dpdGNoQ2FzZTogY29udmVydFN3aXRjaENhc2UsXG4gIFRoaXNFeHByZXNzaW9uOiBjb252ZXJ0VGhpc0V4cHJlc3Npb24sXG4gIFRocm93U3RhdGVtZW50OiBjb252ZXJ0VGhyb3dTdGF0ZW1lbnQsXG4gIFRyeVN0YXRlbWVudDogY29udmVydFRyeVN0YXRlbWVudCxcbiAgVW5hcnlFeHByZXNzaW9uOiBjb252ZXJ0VW5hcnlFeHByZXNzaW9uLFxuICBVcGRhdGVFeHByZXNzaW9uOiBjb252ZXJ0VXBkYXRlRXhwcmVzc2lvbixcbiAgVmFyaWFibGVEZWNsYXJhdGlvbjogY29udmVydFZhcmlhYmxlRGVjbGFyYXRpb24sXG4gIFZhcmlhYmxlRGVjbGFyYXRvcjogY29udmVydFZhcmlhYmxlRGVjbGFyYXRvcixcbiAgV2hpbGVTdGF0ZW1lbnQ6IGNvbnZlcnRXaGlsZVN0YXRlbWVudCxcbiAgV2l0aFN0YXRlbWVudDogY29udmVydFdpdGhTdGF0ZW1lbnRcbn07XG4iXX0=